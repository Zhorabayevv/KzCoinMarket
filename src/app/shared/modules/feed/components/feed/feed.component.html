<div class="table-coins">
  <!-- <mc-loading *ngIf="(isLoading$ | async) || !(feed$ | async)"></mc-loading> -->
  <mc-error-message *ngIf="error$ | async"></mc-error-message>
  <!-- [nzSpinning]="(isLoading$ | async) || !(feed$ | async)" -->
  <nz-spin style="min-height: 400px" [nzSpinning]="(isLoading$ | async)">
    <div>

      <thead>
        <tr class="head">
          <th class="first"></th>
          <th class="second">
            <b># &nbsp;</b>
          </th>
          <th class="name">{{"price" | translate}}</th>
          <th class="price paddin">{{"name" | translate}}</th>
          <th class="one-procent paddin">1h %</th>
          <th class="day-procent paddin">24h %</th>
          <th class="week-procent paddin">7d %</th>
          <th class="cap paddin">
            <div class="dc">
              <p>
                {{ "market_cap" | translate }}
                <span
                  nz-icon
                  nzType="info-circle"
                  [nzTheme]="'twotone'"
                  [nzTwotoneColor]="'#808a9d'"
                ></span>
              </p>
            </div>
          </th>
          <th class="volume paddin">
            <div class="dc">
              <p>
                {{ "volume" | translate }}(24h)
                <span
                  nz-icon
                  nzType="info-circle"
                  [nzTheme]="'twotone'"
                  [nzTwotoneColor]="'#808a9d'"
                ></span>
              </p>
            </div>
          </th>
          <th class="supply paddin">
            <div class="dc">
              <p>{{ "circulating_supply" | translate }}</p>
            </div>
          </th>
          <th class="days paddin">{{ "last_days" | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let coin of coinsTr">
          <td>
            <span
              nz-icon
              nzType="star"
              [nzTheme]="'twotone'"
              nz-tooltip
              [nzTooltipTitle]="(isLoggedIn$ | async) ? 'Жүйеге кірген жоқсыз' : ''"
              [nzTwotoneColor]="
                coin.isFavorited || watchListProps ? '#F6B87E' : '#808a9d'
              "
              style="font-size: 16px"
              (click)="addFavorite(coin.id, coin.isFavorited)"
            ></span>
          </td>
          <td class="id">
            {{ coin.id }}
          </td>
          <td class="">
            <a
              class="dc articles"
              [routerLink]="['/articles', coin.coinSymbol]"
            >
              <img
                class="coin-icon"
                [src]="'../../../../../../assets/' + coin.coinIcon + '.png'"
                alt=""
              />
              <span>&nbsp; {{ coin.coinName }}&nbsp;&nbsp;</span>
              <span class="coin-symbol">
                {{ coin.coinSymbol }}
              </span>
            </a>
          </td>
          <td class="paddin">₸ {{ coin.price }}</td>
          <td class="paddin">
            <div
              class="dc procent df"
              [ngClass]="{
                'color-red': coin.hRate < 1,
                'color-green': coin.hRate > 1
              }"
            >
              <span nz-icon nzType="caret-up" nzTheme="outline"></span>
              <p>{{ coin.hRate }}%</p>
            </div>
          </td>
          <td class="paddin">
            <div
              class="dc procent df"
              [ngClass]="{
                'color-red': coin.dRate < 1,
                'color-green': coin.dRate > 1
              }"
            >
              <span nz-icon nzType="caret-up" nzTheme="outline"></span>
              <p>{{ coin.dRate }}%</p>
            </div>
          </td>
          <td class="paddin">
            <div
              class="dc procent df"
              [ngClass]="{
                'color-red': coin.wRate < 1,
                'color-green': coin.wRate > 1
              }"
            >
              <span nz-icon nzType="caret-up" nzTheme="outline"></span>
              <p>{{ coin.wRate }}%</p>
            </div>
          </td>
          <td class="paddin">₸ {{ coin.marketCapValue }}</td>
          <td class="paddin">
            <p>₸ {{ coin.volumeCryptoValue }}</p>
            <p class="value">{{ coin.volumeValue }} {{ coin.coinSymbol }}</p>
          </td>
          <td class="paddin">
            <p>{{ coin.circulatingSupply }} {{ coin.coinSymbol }}</p>
            <nz-progress
              *ngIf="coin.procent"
              [nzPercent]="coin.procent"
              nzStrokeColor="#808a9d"
              nzStrokeWidth="6"
              [nzShowInfo]="false"
            ></nz-progress>
          </td>
          <td class="paddin">
            <img
              [src]="
                'https://s3.coinmarketcap.com/generated/sparklines/web/7d/2781/' +
                coin.grap +
                '.svg'
              "
              alt=""
            />
          </td>
        </tr>
      </tbody>
      <mc-pagination
        [totalCount]="(feed$ | async)?.count"
        [limitArticles]="limitArticles"
        [currentPage]="currentPage"
        [url]="baseUrl"
      ></mc-pagination>
    </div>
  </nz-spin>
</div>
